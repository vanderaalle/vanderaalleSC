<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="824.48">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Helvetica; color: #0000bf}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #000000; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 6.0px 0.0px; font: 12.0px Helvetica; color: #606060}
p.p4 {margin: 0.0px 0.0px 6.0px 0.0px; font: 12.0px Helvetica; color: #bf0000}
p.p5 {margin: 0.0px 0.0px 6.0px 0.0px; font: 12.0px Helvetica; color: #000000; min-height: 14.0px}
p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #000000}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #007300}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #007300; min-height: 14.0px}
p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #007300}
p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #007300; min-height: 17.0px}
p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #007300}
p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000}
p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000; min-height: 12.0px}
p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000}
p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #0000bf}
p.p16 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #000000}
p.p17 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #0000bf}
p.p18 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; color: #007300; min-height: 12.0px}
p.p19 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #007300; min-height: 12.0px}
p.p20 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; color: #007300}
p.p21 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; color: #000000}
p.p22 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; color: #000000; min-height: 12.0px}
p.p23 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Helvetica; color: #007300}
p.p24 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Helvetica; color: #007300; min-height: 16.0px}
p.p25 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000; min-height: 12.0px}
p.p26 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #000000; min-height: 17.0px}
span.s1 {color: #000000}
span.s2 {color: #0000bf}
span.s3 {color: #007300}
span.s4 {color: #606060}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><b>The</b><span class="s1"><b> </b></span><b>BabaKoto</b><span class="s1"><b> </b></span><b>Project</b></p>
<p class="p2"><br></p>
<p class="p3"><span class="s1"><i><span class="Apple-tab-span">	</span></i></span><i>"The Indri (Indri indri), also called the Babakoto, is one of the largest living lemurs."</i></p>
<p class="p3"><span class="s1"><i><span class="Apple-tab-span">	</span></i></span><i>"The indri is well known for its loud, distinctive songs, which can last from 45 seconds to more than 3 minutes. Song duration and structure varies among and even within groups"</i></p>
<p class="p4"><span class="s1"><span class="Apple-tab-span">	</span>(http:</span>//en.wikipedia.org/wiki/Babakoto)</p>
<p class="p5"><br></p>
<p class="p4"><span class="s1">--&gt; </span><span class="s2">Andrea</span><span class="s1"> </span><span class="s2">Valle</span><span class="s1"> - http:</span>//www.cirma.unito.it/andrea/ -</p>
<p class="p2"><br></p>
<p class="p6"><span class="s2">Yes</span>, sometimes you need a <span class="s2">GUI</span> patching system. <span class="s2">But</span>, <span class="s2">GUI</span> must be flexible, allowing for visualization without interfering or blocking with your favorite code-based way of working in <span class="s2">SC</span>. <span class="s2">BabaKoto</span> is aimed at providing a <span class="s2">SC</span>-based graphical but programmable patching system.<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p6"><span class="s2">Just</span> like in a diagramming language (<span class="s2">Max</span>/<span class="s2">MSP</span>, <span class="s2">PD</span>, etc) you can connect graphically synth outputs to other synth intputs.</p>
<p class="p2"><br></p>
<p class="p6"><span class="s2">Of</span> course it can be used:</p>
<p class="p6">- just as a view (e.g. for live-coding) by calling the <span class="s2">Baba</span> classes and methods from <span class="s2">SC</span> and seeing what<span class="s3">'s going on</span></p>
<p class="p7">- just as a view, but with its internal scripting language "Roar" (simple and fast to type)</p>
<p class="p7">- as a view and a control<span class="Apple-converted-space">  </span>(if you are secretly or sometimes a total-mouse guy)</p>
<p class="p7">- mixing up all the approaches</p>
<p class="p8"><br></p>
<p class="p7">Note that here we are not speaking of audio, of course, but simply of interfaces to audio.</p>
<p class="p7">Even if BabaKoto provides a code patching-oriented framework which is abstract from GUI, nevertheless it is aimed mainly at GUI. This means that, if you are not interested in GUI, probably it would be more useful to look at JITlib, Crucial or other libraries.</p>
<p class="p8"><br></p>
<p class="p9"><b>Components</b></p>
<p class="p8"><br></p>
<p class="p7">BabaKoto includes:</p>
<p class="p8"><br></p>
<p class="p7"><b>BabaPatcher</b>: the main environment for patching. You can send synthDefs to it: it instantiates synth and allows patching.</p>
<p class="p8"><br></p>
<p class="p7"><b>BabaSynth</b>: the synths used by BabaPatcher are special ones, i.e. instance of BabaSynth. But you should not deal with them, as they are handled internally by BabaPatcher. JFYI.</p>
<p class="p8"><br></p>
<p class="p7"><b>BabaWrapper:</b> a utility class, you pass a UGen (e.g. Pulse) and it returns the opportune BabaSynthDef which wraps the UGen around an Out and passes its args as the synthDef args.</p>
<p class="p8"><br></p>
<p class="p7"><b>BabaPatcherGui</b>: the GUI constructor for BabaPatcher. You typically call it from BabaPatcher.gui method.</p>
<p class="p8"><br></p>
<p class="p7"><b>BabaParser</b>:<b> </b>it defines the Roar micro-language for controlling the Baba stuff. Roar can be used as a way to write easier to read control instructions: this is useful both for setting up things and<span class="Apple-converted-space">  </span>for "live scripting". Instead of using the GUI as a controller, you write in Roar.</p>
<p class="p8"><br></p>
<p class="p7"><b>BabaDocument</b>: a special Document which allows you to execute Roar commands simply by pressing Return. If you press Enter, you still have SC code evaluation as usual.<span class="Apple-converted-space"> </span></p>
<p class="p8"><br></p>
<p class="p10"><br></p>
<p class="p9"><b>Installation and requirements</b></p>
<p class="p8"><br></p>
<p class="p7">The BabaKoto has been tested only on OSX, with SwingOSC. The GUI stuff should be portable on win (via SwingOSC) and should work on Cocoa (but actually it does not completely). The BabaDocument class is Mac only (as it relies on CocoaDocument).</p>
<p class="p7">BabaKoto uses <b>audio buses</b> only. In this way you can patch whatever you want inside whatever you want with no restricitions (ok, it costs more, but not that much).</p>
<p class="p7">So, you will probably have to increase the number of audio buses. You can put this in your startup (or simply, you have to evaluate it at every session with SC):</p>
<p class="p8"><br></p>
<p class="p11">// for the patcher</p>
<p class="p11">s.options.numAudioBusChannels = 256 ; // or more: I have 512</p>
<p class="p8"><br></p>
<p class="p7">In this way we have a larger number of available audio buses.</p>
<p class="p7">Also, the Knob quark is required.</p>
<p class="p8"><br></p>
<p class="p8"><br></p>
<p class="p9"><b>Startup example</b></p>
<p class="p10"><br></p>
<p class="p9"><b>1. Creating a SynthDef</b></p>
<p class="p8"><br></p>
<p class="p7">Consider the following code:</p>
<p class="p8"><br></p>
<p class="p12"><span class="s3"><span class="Apple-tab-span">	</span>// let'</span>s reboot the server</p>
<p class="p12"><span class="Apple-tab-span">	</span>s.reboot ;</p>
<p class="p13"><br></p>
<p class="p12">(</p>
<p class="p14"><span class="s1"><span class="Apple-tab-span">	</span></span>// two synthDef. As you see, we use some special conventions (a lot fo Ins)</p>
<p class="p13"><br></p>
<p class="p14"><span class="s1"><span class="Apple-tab-span">	</span></span>// 8-track mixer</p>
<p class="p12"><span class="Apple-tab-span">	</span>m = <span class="s2">SynthDef</span>(<span class="s3">\mix8</span>, { <span class="s2">arg</span> out, in1, in2, in3, in4, in5, in6, in7, in8, pos, level ;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Out</span>.ar(out, <span class="s2">Pan2</span>.ar(<span class="s2">Mix</span>.new([</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">In</span>.ar(in1), <span class="s2">In</span>.ar(in2), <span class="s2">In</span>.ar(in3), <span class="s2">In</span>.ar(in4),<span class="Apple-converted-space"> </span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">In</span>.ar(in5), <span class="s2">In</span>.ar(in6), <span class="s2">In</span>.ar(in7), <span class="s2">In</span>.ar(in8)</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>]), <span class="s2">In</span>.ar(pos), <span class="s2">In</span>.ar(level))</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p12"><span class="Apple-tab-span">	</span>}).send(s) ;</p>
<p class="p13"><span class="Apple-tab-span">	</span></p>
<p class="p14"><span class="s1"><span class="Apple-tab-span">	</span></span>// LPF</p>
<p class="p12"><span class="Apple-tab-span">	</span>l = <span class="s2">SynthDef</span>(<span class="s3">\LPF</span>, { <span class="s2">arg</span> out, in, freq ;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Out</span>.ar(out, <span class="s2">LPF</span>.ar(<span class="s2">In</span>.ar(in), <span class="s2">In</span>.ar(freq)))</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}).send(s) ;</p>
<p class="p12">)</p>
<p class="p13"><br></p>
<p class="p6"><span class="s2">These</span> are usual synthDefs, but to be useful for <span class="s2">BabaPatcher</span> they must obey to some minimal constraints.<span class="Apple-converted-space"> </span></p>
<p class="p6">- they must always have an out argument, even if theoretically they would not need it.</p>
<p class="p6">- apart from out, all the occcurences of the each <span class="s2">arg</span> in the def must be replaced by <span class="s2">In</span>.ar(<span class="s2">arg</span>).</p>
<p class="p2"><br></p>
<p class="p6"><span class="s2">Internally</span>, <span class="s2">this</span> means that the args will receive the index of bus where a value for the <span class="s2">arg</span> is set.</p>
<p class="p6"><span class="s2">But</span> you have not to care about it: you can keep on thinking of e.g. the freq <span class="s2">arg</span> in tems of cps.<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="s2">Simply</span> respect the conventions while creating the synthDefs.</p>
<p class="p6"><span class="s2">An</span> easy way to create a <span class="s2">SynthDef</span> from an <span class="s2">UGen</span> is to use the <span class="s2">BabaWrapper</span> class. <span class="s2">You</span> pass an <span class="s2">UGen</span>, it returns a well-formed-for-baba synthDef.</p>
<p class="p13"><span class="Apple-converted-space"> </span></p>
<p class="p14"><span class="s1"><span class="Apple-tab-span">	</span>p = </span><span class="s2">BabaWrapper</span><span class="s1">(</span><span class="s2">Pulse</span><span class="s1">).send(s) ; </span>// p is a babaSynthDef</p>
<p class="p13"><br></p>
<p class="p6"><span class="s2">Now</span> we have synthDefs m, l, p, to be sent to <span class="s2">BabaPatcher</span> b.</p>
<p class="p2"><br></p>
<p class="p14"><span class="s1"><span class="Apple-tab-span">	</span></span>// the BabaPatcher is the environment which handles all the synths</p>
<p class="p14"><span class="s1"><span class="Apple-tab-span">	</span></span>// let's call it Blob</p>
<p class="p15"><span class="s1"><span class="Apple-tab-span">	</span>b = </span>BabaPatcher<span class="s1">(</span><span class="s4">"Blob!"</span><span class="s1">) ;</span></p>
<p class="p13"><br></p>
<p class="p6"><span class="s2">Ok</span>, now b is our <span class="s2">BabaPatcher</span>. <span class="s2">It</span> handles all the synth management: setting, patching, order of execution.</p>
<p class="p6"><span class="s2">We</span> add each synthDef to the babapatcher and it create a synth for each. <span class="s2">Here</span> we add the synthDef m, specifying that the synth<span class="Apple-converted-space">  </span>to be created has to be named <span class="s3">\pulse</span></p>
<p class="p13"><br></p>
<p class="p12"><span class="Apple-tab-span">	</span>b.add(p, <span class="s3">\pulse</span>) ;</p>
<p class="p13"><br></p>
<p class="p6"><span class="s2">Some</span> initialisations are possible. <span class="s2">Some</span> args of the synth <span class="s3">\pulse</span> are set.<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="s2">Note</span> that we always pass through the patcher.</p>
<p class="p13"><br></p>
<p class="p12"><span class="Apple-tab-span">	</span>b.setList(<span class="s3">\pulse</span>, [<span class="s3">\freq</span>, 500, <span class="s3">\mul</span>, 0.5, <span class="s3">\width</span>, 0.5])</p>
<p class="p13"><br></p>
<p class="p6"><span class="s2">Now</span> for the other synthDefs:</p>
<p class="p13"><br></p>
<p class="p12"><span class="Apple-tab-span">	</span>b.add(l, <span class="s3">\LPF</span>) ;</p>
<p class="p14"><span class="s1"><span class="Apple-tab-span">	</span></span>// single line evaluation is required</p>
<p class="p14"><span class="s1"><span class="Apple-tab-span">	</span></span>// because add is instantiating a synt</p>
<p class="p14"><span class="s1"><span class="Apple-tab-span">	</span></span>// we need a little time to let the synth be created</p>
<p class="p12"><span class="Apple-tab-span">	</span>b.setList(<span class="s3">\LPF</span>, [<span class="s3">\freq</span>, 1000]);</p>
<p class="p13"><br></p>
<p class="p12"><span class="Apple-tab-span">	</span>b.add(m, <span class="s3">\mix8</span>) ;</p>
<p class="p12"><span class="Apple-tab-span">	</span>b.setList(<span class="s3">\mix8</span>, [<span class="s3">\level</span>, 1, <span class="s3">\pos</span>, 0.5]);</p>
<p class="p13"><br></p>
<p class="p6"><span class="s2">The</span> gui environment is accessible through the gui message.</p>
<p class="p13"><br></p>
<p class="p12"><span class="Apple-tab-span">	</span>b.gui(<span class="s2">nil</span>, 2, 300) ;<span class="Apple-converted-space"> </span></p>
<p class="p14"><span class="s1"><span class="Apple-tab-span">	</span></span>// nil: arg synthNameArr is a list of synths, if nil all synths are considered</p>
<p class="p14"><span class="s1"><span class="Apple-tab-span">	</span></span>// the same would be:</p>
<p class="p14"><span class="s1"><span class="Apple-tab-span">	</span></span>//<span class="Apple-tab-span">	</span>b.gui([\pulse, \LPF, \mix8], 1, 300) ;<span class="Apple-converted-space"> </span></p>
<p class="p14"><span class="s1"><span class="Apple-tab-span">	</span></span>// width: 2 modules, height: 300 px<span class="Apple-converted-space"> </span></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p14"><span class="s1"><span class="Apple-tab-span">	</span></span>// autonomous windows</p>
<p class="p12"><span class="Apple-tab-span">	</span>b.gui([<span class="s3">\pulse</span>, <span class="s3">\LPF</span>], 1, 300) ;<span class="Apple-converted-space"> </span></p>
<p class="p14"><span class="s1"><span class="Apple-tab-span">	</span></span>// a second one</p>
<p class="p12"><span class="Apple-tab-span">	</span>b.gui([<span class="s3">\mix8</span>], 1, 300) ;<span class="Apple-converted-space"> </span></p>
<p class="p14"><span class="s1"><span class="Apple-tab-span">	</span></span>// obviously you cannot draw lines between different windows</p>
<p class="p14"><span class="s1"><span class="Apple-tab-span">	</span></span>// but you patch by writing in the "in" textfield (see later)</p>
<p class="p2"><br></p>
<p class="p16"><span class="s2"><b>The</b></span><b> </b><span class="s2"><b>GUI</b></span><b> interface and control</b></p>
<p class="p2"><br></p>
<p class="p6"><span class="s2">For</span> each of the synthDef passed to the <span class="s2">BabaPatcher</span> a synth is created and the gui reflects <span class="s2">this</span> fact by creating a<span class="Apple-converted-space">  </span><span class="s2">GUI</span> module. <span class="s2">For</span> each synth the <span class="s2">GUI</span> controls mirrors internal controls (i.e. methods), so, of course, you can do the same thing from <span class="s2">SC</span> code. <span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p6"><span class="s2">For</span> each synth you have:</p>
<p class="p2"><br></p>
<p class="p17"><b>Name</b></p>
<p class="p6"><span class="s2">A</span> static label representing the synth name (e.g. <span class="s4">"pulse"</span>).</p>
<p class="p2"><br></p>
<p class="p6"><span class="s2"><b>Stop</b></span><b> button</b></p>
<p class="p6"><span class="s2">The</span> stop button pause/start again the synths.</p>
<p class="p2"><br></p>
<p class="p6"><span class="s2"><b>Audio</b></span><b> out field</b></p>
<p class="p6"><span class="s2">You</span> can use the field to send the audio to an explicit audio bus. <span class="s2">You</span> will typically use it only for the final output, e.g. you can set audio out (in blue) of mix8 (our mixer) to 0 and press <span class="s2">Return</span>. <span class="s2">This</span> means that the audio is routed to an explicitly indicated bus (0 is the lower audio bus, i.e. soundcard). <span class="s2">Otherwise</span>,if<span class="Apple-converted-space">  </span>you leave the field blank, the audio is routed to an internal bus, automatically handled by <span class="s2">BabaPatcher</span>.</p>
<p class="p2"><br></p>
<p class="p6"><span class="s4"><b>"to"</b></span><b>button</b></p>
<p class="p6"><span class="s2">The</span> <span class="s4">"to"</span> button selects a synth to work as an input for another synth argument.</p>
<p class="p2"><br></p>
<p class="p6"><span class="s2">For</span> each argument of a synth you have:</p>
<p class="p2"><br></p>
<p class="p6"><span class="s4"><b>"in"</b></span><b> button and textfield<span class="Apple-converted-space"> </span></b></p>
<p class="p6"><span class="s2">If</span> you have selected a <span class="s4">"to"</span> button and you press the <span class="s4">"in"</span> button, you patch the first synth into that argument of the second.</p>
<p class="p6"><span class="s2">E</span>.g. you want to connect pulse output to <span class="s2">LPF</span> <span class="s4">"in"</span> argument. <span class="s2">Click</span> on the <span class="s4">"to"</span> button of pulse, and the in the <span class="s4">"in"</span> button related to the <span class="s4">"in"</span> argument of <span class="s2">LPF</span>. <span class="s2">A</span> connection is drawn. <span class="s2">Note</span> also that the <span class="s4">"in"</span> texfield gets of the same color of pulse, and the input name appears. <span class="s2">You</span> can also patch by writing the name of the sending synth into the textfield of the receiving synth.<span class="Apple-converted-space">  </span><span class="s2">E</span>.g. you can connect <span class="s2">LPF</span> to in1 of mix8 by writing <span class="s4">"LPF"</span> in the in1 textfield of mix8.</p>
<p class="p6"><span class="s2">You</span> can have multiple outs. <span class="s2">E</span>.g. you can connect pulse to in2 of mix8</p>
<p class="p2"><br></p>
<p class="p6"><span class="s2"><b>Arg</b></span><b> name</b></p>
<p class="p6"><span class="s2">A</span> static label representing the <span class="s2">arg</span> name</p>
<p class="p2"><br></p>
<p class="p6"><span class="s2"><b>Max</b></span><b>/min textfield</b></p>
<p class="p6"><span class="s2">They</span> represent the min/max of the following knob range</p>
<p class="p6"><span class="s2">E</span>.g.<span class="Apple-converted-space">  </span>in <span class="s2">LPF</span> you can change the first two textfield ath the right of the <span class="s4">"freq"</span> label into e.g. 50 and 500. <span class="s2">The</span> knob will be in range [50, 500].</p>
<p class="p2"><br></p>
<p class="p6"><span class="s2"><b>Set</b></span><b> knob</b></p>
<p class="p6"><span class="s2">Simply</span>, it allows to set a value inside the max/min range. <span class="s2">Eg</span>. now you can move the freq knob of <span class="s2">LPF</span> to change the filter frequency.</p>
<p class="p2"><br></p>
<p class="p6"><span class="s2"><b>Value</b></span><b> field</b></p>
<p class="p6"><span class="s2">It</span> allows to view/set the actual value of the argoment <span class="s2">IF</span> <span class="s2">NOT</span> patched.</p>
<p class="p6"><span class="s2">Note</span> also that if you set in the value field a value &gt; than max, max is updated (the same happens with min). <span class="s2">E</span>.g. try to type 1000.</p>
<p class="p6"><span class="s2">To</span> remove a connection to an argument, simply press the value field. <span class="s2">The</span> value is now the one in the field. <span class="s2">Try</span> with in2 of mix8. <span class="s2">The</span> case of mix8 is a bit special, because you cannot input values, but simply patch synths via <span class="s4">"in"</span>. <span class="s2">But</span> it works the same.</p>
<p class="p2"><br></p>
<p class="p6"><span class="s2">Having</span> different windows helps in separting sections thus maximizing screen space.<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="Apple-converted-space"> </span><span class="s2">Obviously</span>, you cannot draw lines between different windows, but you can still patch by writing a synth name in the <span class="s4">"in"</span> textField. <span class="s2">It</span> works as before.</p>
<p class="p6"><span class="Apple-converted-space"> </span><span class="s2">E</span>.g. it can be useless to have 16 lines connecting 16 synths to a 16-in mixer. <span class="s2">Better</span> to separate the mixer synth<span class="Apple-converted-space">  </span>in a window and write the synth names in the mixer<span class="s3">'s in.</span></p>
<p class="p8"><br></p>
<p class="p9"><b>Baba live scripting through Roar</b></p>
<p class="p8"><br></p>
<p class="p7">Order of execution (see <a href="SC://Order-of-execution">Order-of-execution</a>) is defined by column and row, i.e. in a system of 12 synths arranged in a 3x4 grid, the order is the following:</p>
<p class="p8"><br></p>
<p class="p7">1<span class="Apple-tab-span">	</span>5 <span class="Apple-tab-span">	</span>9<span class="Apple-tab-span">	</span></p>
<p class="p7">2<span class="Apple-tab-span">	</span>6<span class="Apple-tab-span">	</span>10</p>
<p class="p7">3<span class="Apple-tab-span">	</span>7<span class="Apple-tab-span">	</span>11</p>
<p class="p7">4<span class="Apple-tab-span">	</span>8<span class="Apple-tab-span">	</span>12</p>
<p class="p8"><br></p>
<p class="p7">You can change it in real time (see after).</p>
<p class="p7">In case of multiple windows, windows ordering depends on you (i.e. you have to keep track of it)</p>
<p class="p8"><br></p>
<p class="p9"><b>Baba live scripting through Roar</b></p>
<p class="p8"><br></p>
<p class="p7">The Roar language is a micro-language to control Baba.</p>
<p class="p7">By evaluating this:</p>
<p class="p18"><br></p>
<p class="p11"><span class="Apple-tab-span">	</span>b.roar</p>
<p class="p19"><br></p>
<p class="p7">a new document (a BabaDocument instance) is created. You can use it to write Roar commands.<span class="Apple-converted-space"> </span></p>
<p class="p7">But, of course, you can also use it to write SC code.</p>
<p class="p7">You select a synth by writing its name in the BabaDocument and pressing Return</p>
<p class="p7">E.g.</p>
<p class="p19"><span class="Apple-tab-span">	</span></p>
<p class="p20"><span class="Apple-tab-span">	</span>pulse</p>
<p class="p18"><br></p>
<p class="p7">now, pulse is selected. In general, a synth is selected until a new one is selected. You can set an arg'<span class="s1">s value by writing its name and value, and then press </span><span class="s2">Return</span><span class="s1">. Simply:</span></p>
<p class="p2"><br></p>
<p class="p21"><span class="Apple-tab-span">	</span>freq 100</p>
<p class="p22"><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="s1">set pulse</span>'s freq arg to 100.</p>
<p class="p7">You can patch by calling</p>
<p class="p8"><br></p>
<p class="p20"><span class="Apple-tab-span">	</span>to mix8 in4</p>
<p class="p18"><span class="Apple-tab-span">	</span></p>
<p class="p7">A connection is established from pulse to the in4 arg of mix8.</p>
<p class="p7">The same process can be obtainend by calling</p>
<p class="p8"><br></p>
<p class="p20"><span class="Apple-tab-span">	</span>mix8</p>
<p class="p20"><span class="Apple-tab-span">	</span>in in4 mix8</p>
<p class="p8"><br></p>
<p class="p7">Here first we select the synth mix 8, and the we call the "in" command.</p>
<p class="p8"><br></p>
<p class="p7">By typing<span class="Apple-converted-space">  </span>Roar commands, you can also control order of execution.</p>
<p class="p7">So, to summarizel, here you have the list of Roar commands. They apply to the selected synth.</p>
<p class="p8"><br></p>
<p class="p7"><b>Roar commands</b></p>
<p class="p8"><br></p>
<p class="p7">run true</p>
<p class="p7">run false</p>
<p class="p7">--&gt; control the synth running var<span class="Apple-converted-space"> </span></p>
<p class="p8"><br></p>
<p class="p7">out <i>val</i></p>
<p class="p7">--&gt; set an explicit audio bus</p>
<p class="p8"><br></p>
<p class="p7">to <i>synthName argName</i></p>
<p class="p7">--&gt; connect the synth to the arg argName of the synth SynthName</p>
<p class="p8"><br></p>
<p class="p7">in <i>argName synthName<span class="Apple-converted-space"> </span></i></p>
<p class="p7">--&gt; connect the synth synthName to the arg argName<span class="Apple-converted-space"> </span></p>
<p class="p8"><br></p>
<p class="p8"><br></p>
<p class="p7"><i>argName val</i></p>
<p class="p7">--&gt; set the argument arg with value val</p>
<p class="p8"><br></p>
<p class="p7"><i>argName </i>max<i> val</i></p>
<p class="p7"><i>argName </i>min<i> val</i></p>
<p class="p7">--&gt; set the argument arg max and min with value val</p>
<p class="p8"><br></p>
<p class="p7">+ <i>synthName</i></p>
<p class="p7">- <i>synthName</i></p>
<p class="p7">--&gt; moves the synth after or before the synth synthName in the tree</p>
<p class="p8"><br></p>
<p class="p7">@</p>
<p class="p7">.</p>
<p class="p7">--&gt; moves<span class="Apple-converted-space">  </span>the selected synth respectively at the head or at the tail of the execution tree</p>
<p class="p10"><br></p>
<p class="p23"><b>A longer, commented example</b></p>
<p class="p24"><br></p>
<p class="p11">// booting the server</p>
<p class="p11">s.reboot ;</p>
<p class="p19"><br></p>
<p class="p11">(</p>
<p class="p11">// here we send some synthDef</p>
<p class="p19"><br></p>
<p class="p11">// these twos are created by wrapping a UGen in a synthDef<span class="Apple-converted-space"> </span></p>
<p class="p11">// thru BabaWrapper</p>
<p class="p11">d = BabaWrapper(Pulse).send(s) ;</p>
<p class="p11">e = BabaWrapper(SinOsc).send(s) ;</p>
<p class="p19"><br></p>
<p class="p11">// an 8-track mixer</p>
<p class="p11">m = SynthDef(\mix8, { arg out, in1, in2, in3, in4, in5, in6, in7, in8, pos, level ;</p>
<p class="p11"><span class="Apple-tab-span">	</span>Out.ar(out, Pan2.ar(Mix.new([</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>In.ar(in1), In.ar(in2), In.ar(in3), In.ar(in4),<span class="Apple-converted-space"> </span></p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>In.ar(in5), In.ar(in6), In.ar(in7), In.ar(in8)</p>
<p class="p11"><span class="Apple-tab-span">	</span>]), In.ar(pos), In.ar(level))</p>
<p class="p11"><span class="Apple-tab-span">	</span>)</p>
<p class="p11">}).send(s) ;</p>
<p class="p19"><br></p>
<p class="p11">)<span class="Apple-converted-space"> </span></p>
<p class="p19"><br></p>
<p class="p19"><br></p>
<p class="p11">// ok, now we create the BabaPatcher</p>
<p class="p11">~baba = BabaPatcher("Blob!") ;</p>
<p class="p19"><br></p>
<p class="p11">// why a Routine?</p>
<p class="p11">// because after adding a synth we set its args,<span class="Apple-converted-space"> </span></p>
<p class="p11">// and so we have to wait a tiny bit of time to</p>
<p class="p11">// let scsynth allocate the synth</p>
<p class="p11">(</p>
<p class="p11">Routine.new({</p>
<p class="p11">10.do({ |i|</p>
<p class="p11"><span class="Apple-tab-span">	</span>var name = ("pulse"++i.asString).asSymbol ;</p>
<p class="p11"><span class="Apple-tab-span">	</span>~baba.add(d, name) ;</p>
<p class="p12"><span class="s3"><span class="Apple-tab-span">	</span>// let'</span>s wait a little</p>
<p class="p12"><span class="Apple-tab-span">	</span>0.05.wait ;</p>
<p class="p12"><span class="Apple-tab-span">	</span>~baba.setList(name, [<span class="s3">\freq</span>, 6+i, <span class="s3">\mul</span>, 0.5, <span class="s3">\width</span>, 0.5]) ;</p>
<p class="p12">}) ;</p>
<p class="p12"><span class="s4">"done"</span>.postln ;</p>
<p class="p12">}).play(<span class="s2">AppClock</span>) ;</p>
<p class="p12">)</p>
<p class="p13"><br></p>
<p class="p14">// the same</p>
<p class="p12">(</p>
<p class="p15">Routine<span class="s1">.new({</span></p>
<p class="p12">10.do({ <span class="s2">|i|</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s2">var</span> name = (<span class="s4">"sin"</span>++i.asString).asSymbol ;</p>
<p class="p12"><span class="Apple-tab-span">	</span>~baba.add(e, name) ;</p>
<p class="p12"><span class="Apple-tab-span">	</span>0.05.wait ;</p>
<p class="p12"><span class="Apple-tab-span">	</span>~baba.setList(name, [<span class="s3">\freq</span>, 12*i+48, <span class="s3">\mul</span>, 0.5]) ;</p>
<p class="p12">}) ;</p>
<p class="p12"><span class="s4">"done"</span>.postln ;</p>
<p class="p12">}).play(<span class="s2">AppClock</span>) ;</p>
<p class="p12">)</p>
<p class="p13"><br></p>
<p class="p14">// we add the mixer</p>
<p class="p12">~baba.add(m, <span class="s3">\mix8</span>) ;</p>
<p class="p12">~baba.setList(<span class="s3">\mix8</span>, [<span class="s3">\level</span>, 1, <span class="s3">\pos</span>, 0.5]);</p>
<p class="p13"><br></p>
<p class="p13"><br></p>
<p class="p14">// creating three windows<span class="Apple-converted-space"> </span></p>
<p class="p12">~baba.gui([<span class="s3">\pulse0</span>, <span class="s3">\pulse1</span>, <span class="s3">\pulse3</span>], 1, 400) ;</p>
<p class="p12">~baba.gui([<span class="s3">\sin0</span>, <span class="s3">\sin1</span>, <span class="s3">\sin2</span>], 1, 400) ;</p>
<p class="p12">~baba.gui([<span class="s3">\mix8</span>], 1, 400) ;</p>
<p class="p13"><br></p>
<p class="p14">// if you prefer all the stuff</p>
<p class="p12">~baba.gui(<span class="s2">nil</span>, 4, 850) ;</p>
<p class="p13"><br></p>
<p class="p13"><br></p>
<p class="p14">// PRIVATE: MIDI stuff</p>
<p class="p12">x = <span class="s2">BabaXSession</span>(~baba) ;</p>
<p class="p12">x.gui ;</p>
<p class="p12">~baba.ui( 4, 850, x) ;</p>
<p class="p14">// in the MIDI gui you write e.g. sin1 freq</p>
<p class="p13"><br></p>
<p class="p14">/*</p>
<p class="p14">// the gui method of BabaPatcher calls a specialized class, BabaGui</p>
<p class="p14">// this is the same of before:</p>
<p class="p14">BabaGui.new(~baba, [\pulse0, \pulse1, \pulse3], 1, 400).makeAllGui ;</p>
<p class="p14">BabaGui.new(~baba, [\sin0, \sin1, \sin2], 1, 400).makeAllGui ;</p>
<p class="p14">BabaGui.new(~baba, nil, 1, 400).makeAllGui ;</p>
<p class="p25"><br></p>
<p class="p14">*/</p>
<p class="p13"><br></p>
<p class="p26"><br></p>
</body>
</html>
